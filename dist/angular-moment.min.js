/*!
  Angular Moment.js v0.2.4
  https://github.com/shaungrady/angular-momentjs
  (c) 2014 Shaun Grady
  License: MIT
*/
"use strict";angular.module("moment",[]),angular.module("moment").constant("indexOf",function(t,e){if(t.indexOf)return t.indexOf(e);for(var a=0;a<t.length;a++)if(e===t[a])return a;return-1}),angular.module("moment").provider("$moment",function(){function t(t){return t=t||"",t.match(/l/i)?moment().lang()._longDateFormat[t]||t:t}var e={$strictView:!0,$strictModel:!0,$defaultViewFormat:"L",$defaultModelFormat:moment.defaultFormat,$parseFormat:t};this.defaultViewFormat=function(t){return angular.isString(t)&&(e.$defaultViewFormat=t),this},this.defaultModelFormat=function(t){return angular.isString(t)&&(e.$defaultModelFormat=t),this},this.strictView=function(t){return"boolean"==typeof t&&(e.$strictView=t),this},this.strictModel=function(t){return"boolean"==typeof t&&(e.$strictModel=t),this},this.$get=function(){if(angular.isDefined(moment.$strictView))return moment;try{Object.defineProperty(moment,"$strictView",{value:e.$strictView}),Object.defineProperty(moment,"$strictModel",{value:e.$strictModel}),Object.defineProperty(moment,"$defaultViewFormat",{value:e.$defaultViewFormat}),Object.defineProperty(moment,"$defaultModelFormat",{value:e.$defaultModelFormat}),Object.defineProperty(moment,"$parseFormat",{value:e.$parseFormat})}catch(t){angular.extend(moment,e)}return moment}}),angular.module("moment").filter("momentFormat",["$moment",function(t){return function(e,a){var i,r,n,o=t.$defaultViewFormat;return angular.isDefined(e)?(angular.isString(a)?o=a:angular.isArray(a)&&(n=a[0],o=a[1]||o,r=a[2]),i=t(e,n,r),i.isValid()?i.format(o):!angular.isDefined(n)&&(i=t(e,t.$defaultModelFormat,t.strictModel),i.isValid())?i.format(o):e):e}}]),angular.module("moment").directive("input",["$moment","$timeout","indexOf",function(t,e,a){var i=["millisecond","second","minute","hour","day","month","year"],r=t.$strictView,n=t.$strictModel;return{priority:10,restrict:"E",require:"?ngModel",compile:function(o,m){return"date"!==m.type&&"moment"!==m.type?angular.noop:function(o,m,l,u){if(u){var d,f,s=t.$defaultViewFormat,$=t.$defaultModelFormat,c={min:{attr:null,view:null,model:null},max:{attr:null,view:null,model:null}},v=function(e){m.attr("placeholder",t.$parseFormat(e))},w=function(){u.$isEmpty(u.$viewValue)||u.$setViewValue(u.$viewValue)},y=function(){var t=u.$modelValue;u.$isEmpty(t)||e(function(){o.$apply(function(){o[l.ngModel]=t+" "}),o.$apply(function(){o[l.ngModel]=t})},0,!1)},p=function(e){c[e].attr&&c[e].attr.isValid()?(c[e].view=t(c[e].attr.format(s),s),c[e].model=t(c[e].attr.format($),$)):c[e].attr=c[e].view=c[e].model=null},g=function(e,a){var i,o,m,l,d,f;return"view"==e?(l=s,d=$,f=r):(l=$,d=s,f=n),i=t(a,l,f),o=i.isValid(),m=u.$isEmpty(a),m||o?(u.$setValidity("date",!0),!m&&o&&c.max.attr&&i.isAfter(c.max[e])?u.$setValidity("max",!1):u.$setValidity("max",!0),!m&&o&&c.min.attr&&i.isBefore(c.min[e])?u.$setValidity("min",!1):u.$setValidity("min",!0),u.$error.min||u.$error.max?void 0:m?a:i.format(d)):(u.$setValidity("date",!1),u.$setValidity("min",!0),void u.$setValidity("max",!0))};if(u.$parsers.push(angular.bind(void 0,g,"view")),u.$formatters.push(angular.bind(void 0,g,"model")),!l.format||l.viewFormat&&l.modelFormat||(s=o.$eval(l.format)||s,$=o.$eval(l.format)||$,o.$watch(l.format,function(t){s=t,$=t,v(t),p("min"),p("max"),w()})),l.viewFormat&&(s=o.$eval(l.viewFormat)||s,o.$watch(l.viewFormat,function(e){e=e||t.$defaultViewFormat,e!==s&&(s=e,v(e),p("min"),p("max"),y())})),l.modelFormat&&($=o.$eval(l.modelFormat)||$,o.$watch(l.modelFormat,function(e){e=e||t.$defaultModelFormat,e!==$&&($=e,p("min"),p("max"),w())})),v(s),l.min){var V=function(e){var a;a=angular.isArray(e)&&2==e.length?t(e[0],e[1]):e&&angular.isString(e)?"today"==e?t():t(e,t.$defaultModelFormat):null,(!a^!c.min.attr||a&&c.min.attr&&a.format("X")!==c.min.attr.format("X"))&&(c.min.attr=a,p("min"),w())};V(o.$eval(l.min)),o.$watch(l.min,V,!0)}if(l.max){var x=function(e){var a;a=angular.isArray(e)&&2==e.length?t(e[0],e[1]):e&&angular.isString(e)?"today"==e?t():t(e,t.$defaultModelFormat):null,(!a^!c.max.attr||a&&c.max.attr&&a.format("X")!==c.max.attr.format("X"))&&(c.max.attr=a,p("max"),w())};x(o.$eval(l.max)),o.$watch(l.max,x,!0)}d="day",f=1,l.step&&o.$watch(l.step,function(t){if(t&&angular.isString(t)){var e=t.match(/(\d+)\s(\w+)/);e?(d=e[2],f=parseInt(e[1],10)):(d="day",f=1)}});var h=function(e,n){if(!e.type&&n&&n.type&&angular.extend(e,n),"keydown"!=e.type||/38|40/.test(e.which)){e.preventDefault();var m,l,$,v,w,y=u.$isEmpty(u.$viewValue),p=y?t():t(u.$viewValue,s,r);p.isValid()&&("keydown"==e.type?l=/38/.test(e.which):(m=e.originalEvent?e.originalEvent.wheelDelta:e.wheelDelta,l=m/120>0),$=e.shiftKey?i[a(i,d.replace(/s$/,""))+1]||d:d,y&&c.min.attr?v=c.min.view.clone():l?y&&!c.min.attr?v=p.max(c.max.attr?c.max.view:void 0):c.min.attr&&p.isBefore(c.min.view)?v=c.min.view.clone():c.max.attr&&!p.isAfter(c.max.view)?v=p.add($,f).max(c.max.view):c.max.attr||(v=p.add($,f)):y&&!c.max.attr?v=p.min(c.min.attr?c.min.view:void 0):c.max.attr&&p.isAfter(c.max.view)?v=c.max.view.clone():c.min.attr&&!p.isBefore(c.min.view)?v=p.subtract($,f).min(c.min.view):c.min.attr||(v=p.subtract($,f)),w=(v||p).format(s),o.$apply(function(){u.$setViewValue(w),u.$render()}))}};m.on("mousewheel keydown",h)}}}}}]);