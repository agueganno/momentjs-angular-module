/*!
  Angular Moment.js v0.2.1
  https://github.com/shaungrady/angular-momentjs
  (c) 2014 Shaun Grady
  License: MIT
*/
"use strict";angular.module("moment",[]),angular.module("moment").constant("indexOf",function(t,e){if(t.indexOf)return t.indexOf(e);for(var a=0;a<t.length;a++)if(e===t[a])return a;return-1}),angular.module("moment").provider("$moment",function(){function t(t){return t=t||"",t.match(/l/i)?moment().lang()._longDateFormat[t]||t:t}var e={$strictView:!0,$strictModel:!0,$defaultViewFormat:"L",$defaultModelFormat:moment.defaultFormat,$parseFormat:t};this.defaultViewFormat=function(t){return angular.isString(t)&&(e.$defaultViewFormat=t),this},this.defaultModelFormat=function(t){return angular.isString(t)&&(e.$defaultModelFormat=t),this},this.strictView=function(t){return"boolean"==typeof t&&(e.$strictView=t),this},this.strictModel=function(t){return"boolean"==typeof t&&(e.$strictModel=t),this},this.$get=function(){if(angular.isDefined(moment.$strictView))return moment;try{Object.defineProperty(moment,"$strictView",{value:e.$strictView}),Object.defineProperty(moment,"$strictModel",{value:e.$strictModel}),Object.defineProperty(moment,"$defaultViewFormat",{value:e.$defaultViewFormat}),Object.defineProperty(moment,"$defaultModelFormat",{value:e.$defaultModelFormat}),Object.defineProperty(moment,"$parseFormat",{value:e.$parseFormat})}catch(t){angular.extend(moment,e)}return moment}}),angular.module("moment").filter("momentFormat",["$moment",function(t){return function(e,a){var i,r,n,o=t.$defaultViewFormat;return angular.isDefined(e)?(angular.isString(a)?o=a:angular.isArray(a)&&(n=a[0],o=a[1]||o,r=a[2]),i=t(e,n,r),i.isValid()?i.format(o):!angular.isDefined(n)&&(i=t(e,t.$defaultModelFormat,t.strictModel),i.isValid())?i.format(o):e):e}}]),angular.module("moment").directive("input",["$moment","$timeout","indexOf",function(t,e,a){var i=["millisecond","second","minute","hour","day","month","year"];return{priority:10,restrict:"E",require:"?ngModel",compile:function(r,n){return"date"!==n.type&&"moment"!==n.type?angular.noop:function(r,n,o,l){if(l){var u,m,d,s,f,$,c,p,y=function(e){n.attr("placeholder",t.$parseFormat(e))},v=t.$defaultViewFormat,V=t.$defaultModelFormat;y(v);var g=function(){l.$isEmpty(l.$viewValue)||l.$setViewValue(l.$viewValue)},w=function(){var t=l.$modelValue;l.$isEmpty(t)||e(function(){r.$apply(function(){r[o.ngModel]=t+" "}),r.$apply(function(){r[o.ngModel]=t})},0,!1)},h=function(){u&&u.isValid()?(m=t(u.format(v),v),d=t(u.format(V),V)):m=d=null},F=function(){s&&s.isValid()?(f=t(s.format(v),v),$=t(s.format(V),V)):f=$=null},M=function(e,a,i,r){var n=t(r,a,e),o=l.$isEmpty(r);return o||n.isValid()?(l.$setValidity("date",!0),o?r:n.format(i)):void l.$setValidity("date",!1)},x=function(e){return M(t.$strictView,v,V,e)},E=function(e){return M(t.$strictModel,V,v,e)};if(l.$formatters.push(E),!o.format||o.viewFormat&&o.modelFormat||r.$watch(o.format,function(t){v=t,V=t,y(t),h(),F(),g()}),o.viewFormat&&(v=r.$eval(o.viewFormat)||v,r.$watch(o.viewFormat,function(e){e=e||t.$defaultViewFormat,e!==v&&(v=e,y(e),h(),F(),w())})),o.modelFormat&&(V=r.$eval(o.modelFormat)||V,r.$watch(o.modelFormat,function(e){e=e||t.$defaultModelFormat,e!==V&&(V=e,h(),F(),g())})),o.min){var b=function(e){var a;a=angular.isArray(e)&&2==e.length?t(e[0],e[1]):e&&angular.isString(e)?"today"==e?t():t(e,t.$defaultModelFormat):null,(!a^!u||a&&u&&a.format("X")!==u.format("X"))&&(u=a,h(),g())};r.$watch(o.min,function(e){u=angular.isArray(e)&&2==e.length?t(e[0],e[1]):e&&angular.isString(e)?t(e,t.$defaultModelFormat):null,h(),g()},!0);var A=function(e){var a=t(e,v,t.$strictView);return!l.$isEmpty(e)&&d&&a.isValid()&&a.isBefore(m)?void l.$setValidity("min",!1):(l.$setValidity("min",!0),e)},O=function(e){var a=t(e,V,t.$strictModel);return!l.$isEmpty(e)&&d&&a.isValid()&&a.isBefore(d)?void l.$setValidity("min",!1):(l.$setValidity("min",!0),e)};b(r.$eval(o.min)),r.$watch(o.min,b,!0),l.$parsers.push(A),l.$formatters.push(O)}if(o.max){var S=function(e){var a;a=angular.isArray(e)&&2==e.length?t(e[0],e[1]):e&&angular.isString(e)?"today"==e?t():t(e,t.$defaultModelFormat):null,(!a^!s||a&&s&&a.format("X")!==s.format("X"))&&(s=a,F(),g())};r.$watch(o.max,function(e){s=angular.isArray(e)&&2==e.length?t(e[0],e[1]):e&&angular.isString(e)?t(e,t.$defaultModelFormat):null,F(),g()},!0);var D=function(e){var a=t(e,v,t.$strictView);return!l.$isEmpty(e)&&$&&a.isValid()&&a.isAfter(f)?void l.$setValidity("max",!1):(l.$setValidity("max",!0),e)},j=function(e){var a=t(e,V,t.$strictModel);return!l.$isEmpty(e)&&$&&a.isValid()&&a.isAfter($)?void l.$setValidity("max",!1):(l.$setValidity("max",!0),e)};S(r.$eval(o.max)),r.$watch(o.max,S,!0),l.$parsers.push(D),l.$formatters.push(j)}l.$parsers.push(x),c="day",p=1,o.step&&r.$watch(o.step,function(t){if(t&&angular.isString(t)){var e=t.match(/(\d+)\s(\w+)/);e?(c=e[2],p=parseInt(e[1],10)):(c="day",p=1)}});var P=function(e,n){if(!e.type&&n&&n.type&&angular.extend(e,n),"keydown"!=e.type||/38|40|107|109/.test(e.which)){e.preventDefault();var o,d,$,y,V,g=l.$isEmpty(l.$viewValue),w=g?t():t(l.$viewValue,v);w.isValid()&&("keydown"==e.type?d=/38|107/.test(e.which):(o=e.originalEvent?e.originalEvent.wheelDelta:e.wheelDelta,d=o/120>0),$=e.shiftKey?i[a(i,c.replace(/s$/,""))+1]||c:c,g&&u?y=m.clone():d?g&&!u?y=w.max(s?f:void 0):u&&w.isBefore(m)?y=m.clone():s&&!w.isAfter(f)?y=w.add($,p).max(f):s||(y=w.add($,p)):g&&!s?y=w.min(u?m:void 0):s&&w.isAfter(f)?y=f.clone():u&&!w.isBefore(m)?y=w.subtract($,p).min(m):u||(y=w.subtract($,p)),V=(y||w).format(v),r.$apply(function(){l.$setViewValue(V),l.$render()}))}};n.on("mousewheel keydown",P)}}}}}]);