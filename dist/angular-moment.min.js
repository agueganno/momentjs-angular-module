/*!
  Angular Moment.js v0.2.6
  https://github.com/shaungrady/angular-momentjs
  (c) 2014 Shaun Grady
  License: MIT
*/
"use strict";angular.module("moment",[]),angular.module("moment").constant("indexOf",function(t,e){if(t.indexOf)return t.indexOf(e);for(var a=0;a<t.length;a++)if(e===t[a])return a;return-1}),angular.module("moment").provider("$moment",function(){function t(t){return t=t||"",t.match(/l/i)?moment().lang()._longDateFormat[t]||t:t}var e={$strictView:!0,$strictModel:!0,$defaultViewFormat:"L",$defaultModelFormat:moment.defaultFormat,$parseFormat:t};this.defaultViewFormat=function(t){return angular.isString(t)&&(e.$defaultViewFormat=t),this},this.defaultModelFormat=function(t){return angular.isString(t)&&(e.$defaultModelFormat=t),this},this.strictView=function(t){return"boolean"==typeof t&&(e.$strictView=t),this},this.strictModel=function(t){return"boolean"==typeof t&&(e.$strictModel=t),this},this.$get=function(){if(angular.isDefined(moment.$strictView))return moment;try{Object.defineProperty(moment,"$strictView",{value:e.$strictView}),Object.defineProperty(moment,"$strictModel",{value:e.$strictModel}),Object.defineProperty(moment,"$defaultViewFormat",{value:e.$defaultViewFormat}),Object.defineProperty(moment,"$defaultModelFormat",{value:e.$defaultModelFormat}),Object.defineProperty(moment,"$parseFormat",{value:e.$parseFormat})}catch(t){angular.extend(moment,e)}return moment}}),angular.module("moment").filter("momentFormat",["$moment",function(t){return function(e,a){var i,r,n,m=t.$defaultViewFormat;return angular.isDefined(e)?(angular.isString(a)?m=a:angular.isArray(a)&&(n=a[0],m=a[1]||m,r=a[2]),i=t(e,n,r),i.isValid()?i.format(m):!angular.isDefined(n)&&(i=t(e,t.$defaultModelFormat,t.strictModel),i.isValid())?i.format(m):e):e}}]),angular.module("moment").directive("input",["$moment","$timeout","indexOf",function(t,e,a){var i=["millisecond","second","minute","hour","day","month","year"],r=t.$strictView,n=t.$strictModel;return{priority:10,restrict:"E",require:"?ngModel",compile:function(m,o){return"date"!==o.type&&"moment"!==o.type?angular.noop:function(m,o,l,u){if(u){var d,f,s,c=t.$defaultViewFormat,$=t.$defaultModelFormat,v={min:{attr:null,view:null,model:null},max:{attr:null,view:null,model:null}},w=function(e){o.attr("placeholder",t.$parseFormat(e))},y=function(){u.$isEmpty(u.$viewValue)||u.$setViewValue(u.$viewValue)},p=function(){var t=u.$modelValue;u.$isEmpty(t)||e(function(){m.$apply(function(){m[l.ngModel]=t+" "}),m.$apply(function(){m[l.ngModel]=t})},0,!1)},g=function(e){v[e].attr&&v[e].attr.isValid()?(v[e].view=t(v[e].attr.format(c),c),v[e].model=t(v[e].attr.format($),$)):v[e].attr=v[e].view=v[e].model=null},x=function(e,a){var i,m,o,f,s,w;return"view"==e?(f=c,s=$,w=r):(f=$,s=c,w=n),i=t(a,f,w),m=i.isValid(),o=u.$isEmpty(a),d=o?t(null):i.clone(),o||m?(u.$setValidity("date",!0),l.min&&(!o&&m&&v.min.attr&&i.isBefore(v.min[e])?u.$setValidity("min",!1):u.$setValidity("min",!0)),l.max&&(!o&&m&&v.max.attr&&i.isAfter(v.max[e])?u.$setValidity("max",!1):u.$setValidity("max",!0)),u.$error.min||u.$error.max?void 0:o?a:i.format(s)):(u.$setValidity("date",!1),l.min&&u.$setValidity("min",!0),void(l.max&&u.$setValidity("max",!0)))};if(u.$parsers.push(angular.bind(void 0,x,"view")),u.$formatters.push(angular.bind(void 0,x,"model")),!l.format||l.viewFormat&&l.modelFormat||(c=m.$eval(l.format)||c,$=m.$eval(l.format)||$,m.$watch(l.format,function(t){c=t,$=t,w(t),g("min"),g("max"),y()})),l.viewFormat&&(c=m.$eval(l.viewFormat)||c,m.$watch(l.viewFormat,function(e){e=e||t.$defaultViewFormat,e!==c&&(c=e,w(e),g("min"),g("max"),p())})),l.modelFormat&&($=m.$eval(l.modelFormat)||$,m.$watch(l.modelFormat,function(e){e=e||t.$defaultModelFormat,e!==$&&($=e,g("min"),g("max"),y())})),w(c),l.min){var V=function(e){var a;a=angular.isArray(e)&&2==e.length?t(e[0],e[1]):e&&angular.isString(e)?"today"==e?t():t(e,t.$defaultModelFormat):null,(!a^!v.min.attr||a&&v.min.attr&&a.format("X")!==v.min.attr.format("X"))&&(v.min.attr=a,g("min"),y())};V(m.$eval(l.min)),m.$watch(l.min,V,!0)}if(l.max){var h=function(e){var a;a=angular.isArray(e)&&2==e.length?t(e[0],e[1]):e&&angular.isString(e)?"today"==e?t():t(e,t.$defaultModelFormat):null,(!a^!v.max.attr||a&&v.max.attr&&a.format("X")!==v.max.attr.format("X"))&&(v.max.attr=a,g("max"),y())};h(m.$eval(l.max)),m.$watch(l.max,h,!0)}f="day",s=1,l.step&&m.$watch(l.step,function(t){if(t&&angular.isString(t)){var e=t.match(/(\d+)\s(\w+)/);e?(f=e[2],s=parseInt(e[1],10)):(f="day",s=1)}});var F=function(e,r){if(!e.type&&r&&r.type&&angular.extend(e,r),"keydown"!=e.type||/38|40/.test(e.which)){e.preventDefault();var n,o,l,$,w,y=u.$isEmpty(u.$viewValue),p=y?t():t(d.format(c),c,!0);p.isValid()&&("keydown"==e.type?o=/38/.test(e.which):(n=e.originalEvent?e.originalEvent.wheelDelta:e.wheelDelta,o=n/120>0),l=e.shiftKey?i[a(i,f.replace(/s$/,""))+1]||f:f,y&&v.min.attr?$=v.min.view.clone():o?y&&!v.min.attr?$=p.max(v.max.attr?v.max.view:void 0):v.min.attr&&p.isBefore(v.min.view)?$=v.min.view.clone():v.max.attr&&!p.isAfter(v.max.view)?$=p.add(l,s).max(v.max.view):v.max.attr||($=p.add(l,s)):y&&!v.max.attr?$=p.min(v.min.attr?v.min.view:void 0):v.max.attr&&p.isAfter(v.max.view)?$=v.max.view.clone():v.min.attr&&!p.isBefore(v.min.view)?$=p.subtract(l,s).min(v.min.view):v.min.attr||($=p.subtract(l,s)),w=($||p).format(c),m.$apply(function(){u.$setViewValue(w),u.$render()}))}};o.on("mousewheel keydown",F)}}}}}]);